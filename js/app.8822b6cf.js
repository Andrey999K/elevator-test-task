(function(){"use strict";var t={4805:function(t,r,o){var e=o(6369),i=function(){var t=this,r=t._self._c;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"mine"},[t._l(t.floors,(function(t){return r("div",{key:t.numberFloor,staticClass:"floor"})})),r("div",{ref:"elevator",staticClass:"elevator",style:{bottom:`${t.currentHeight}%`,height:`calc(100% / ${t.floors.length})`}},[r("div",{ref:"elevatorIndication",staticClass:"elevator__indication"},[r("div",{staticClass:"elevator__indication-direction"},[r("svg",{staticClass:"arrow-up",attrs:{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M6.56569 0.434315C6.25327 0.121895 5.74673 0.121895 5.43431 0.434315L0.343146 5.52548C0.0307262 5.8379 0.0307262 6.34443 0.343146 6.65685C0.655565 6.96927 1.1621 6.96927 1.47452 6.65685L6 2.13137L10.5255 6.65685C10.8379 6.96927 11.3444 6.96927 11.6569 6.65685C11.9693 6.34443 11.9693 5.8379 11.6569 5.52548L6.56569 0.434315ZM6.8 11L6.8 1H5.2L5.2 11H6.8Z",fill:"white"}})]),r("svg",{staticClass:"arrow-down",attrs:{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M5.43431 10.5657C5.74673 10.8781 6.25327 10.8781 6.56569 10.5657L11.6569 5.47452C11.9693 5.1621 11.9693 4.65557 11.6569 4.34315C11.3444 4.03073 10.8379 4.03073 10.5255 4.34315L6 8.86863L1.47452 4.34315C1.1621 4.03073 0.655565 4.03073 0.343146 4.34315C0.0307262 4.65557 0.0307262 5.1621 0.343146 5.47452L5.43431 10.5657ZM5.2 0L5.2 10H6.8L6.8 0L5.2 0Z",fill:"white"}})])]),r("span",{ref:"elevatorIndicationFloor",staticClass:"elevator__indication-floor"})])])],2),r("div",{staticClass:"buttons"},t._l(t.reverseMass,(function(o){return r("div",{key:o.numberFloor,staticClass:"buttons__item"},[r("span",{staticClass:"buttons__item-number"},[t._v(t._s(o.numberFloor))]),r("button",{staticClass:"buttons__item-button",class:{active:o.buttonActive},on:{click:function(r){return t.addFloorList(o)}}},[r("svg",{attrs:{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("circle",{attrs:{cx:"7.5",cy:"7.5",r:"3.75"}}),r("circle",{attrs:{cx:"7.5",cy:"7.5",r:"7"}})])])])})),0)])])},s=[],n=(o(7658),{name:"App",data(){return{floors:[],currentFloor:1,currentHeight:0,orderVisitFloor:[],elevatorStatusStart:!1}},methods:{inListOrder:function(t){for(let r=0;r<this.orderVisitFloor.length;r++)if(this.orderVisitFloor[r]===t)return!0;return!1},addFloorList:function(t){for(let r=0;r<this.orderVisitFloor.length;r++)if(this.orderVisitFloor[r]===t.numberFloor)return;this.orderVisitFloor.push(t.numberFloor),t.buttonActive=!0,this.saveOrder(),this.elevatorStatusStart||(this.elevatorStatusStart=!0,this.startElevator())},startElevator:async function(){this.moveFloor(this.orderVisitFloor[0])},moveFloor:async function(t){return new Promise((()=>{this.currentFloor<t?(this.$refs.elevatorIndicationFloor.textContent=t,this.$refs.elevatorIndication.classList.add("move-up")):this.currentFloor>t&&(this.$refs.elevatorIndicationFloor.textContent=t,this.$refs.elevatorIndication.classList.add("move-down"));let r=setInterval((()=>{if(this.currentFloor<t)this.currentHeight+=.25;else{if(!(this.currentFloor>t))return!1;this.currentHeight-=.25}this.currentHeight===Math.ceil(100/this.floors.length*(t-1))&&(this.$refs.elevator.classList.add("elevator-pause"),clearInterval(r),this.orderVisitFloor.shift(),this.saveOrder(),this.saveElevatorPosition(t),setTimeout((()=>{this.floors[t-1].buttonActive=!1,this.$refs.elevator.classList.remove("elevator-pause"),0!==this.orderVisitFloor.length?(this.currentFloor<t?this.$refs.elevatorIndication.classList.remove("move-up"):this.currentFloor>t&&this.$refs.elevatorIndication.classList.remove("move-down"),this.currentFloor=t,this.startElevator()):(this.$refs.elevatorIndication.classList.remove("move-up"),this.$refs.elevatorIndication.classList.remove("move-down"),this.elevatorStatusStart=!1,this.currentFloor=t)}),3e3))}),250/(100/this.floors.length))}))},getData:async function(){let t=await fetch("data.json");return await t.json()},saveOrder:function(){localStorage.setItem("orderFloors",this.orderVisitFloor)},saveElevatorPosition:function(t){localStorage.setItem("elevatorPosition",t)}},computed:{reverseMass(){return[...this.floors].reverse()}},beforeMount(){this.getData().then((t=>{for(let r=1;r<=t.countFloor;r++)this.floors.push({numberFloor:r,buttonActive:!1});if(localStorage.getItem("orderFloors")){this.orderVisitFloor=localStorage.getItem("orderFloors").split(","),console.log(this.orderVisitFloor);for(let t=0;t<this.orderVisitFloor.length;t++)this.floors[this.orderVisitFloor[t]-1].buttonActive=!0;this.startElevator()}localStorage.getItem("elevatorPosition")&&(this.currentFloor=Number(localStorage.getItem("elevatorPosition")),this.currentHeight=100/this.floors.length*(this.currentFloor-1))})).catch((t=>console.log(t)))},components:{}}),l=n,a=o(1001),c=(0,a.Z)(l,i,s,!1,null,null,null),u=c.exports;e.ZP.config.productionTip=!1,new e.ZP({render:t=>t(u)}).$mount("#app")}},r={};function o(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(r,e,i,s){if(!e){var n=1/0;for(u=0;u<t.length;u++){e=t[u][0],i=t[u][1],s=t[u][2];for(var l=!0,a=0;a<e.length;a++)(!1&s||n>=s)&&Object.keys(o.O).every((function(t){return o.O[t](e[a])}))?e.splice(a--,1):(l=!1,s<n&&(n=s));if(l){t.splice(u--,1);var c=i();void 0!==c&&(r=c)}}return r}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[e,i,s]}}(),function(){o.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(r,{a:r}),r}}(),function(){o.d=function(t,r){for(var e in r)o.o(r,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}}(),function(){var t={143:0};o.O.j=function(r){return 0===t[r]};var r=function(r,e){var i,s,n=e[0],l=e[1],a=e[2],c=0;if(n.some((function(r){return 0!==t[r]}))){for(i in l)o.o(l,i)&&(o.m[i]=l[i]);if(a)var u=a(o)}for(r&&r(e);c<n.length;c++)s=n[c],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(u)},e=self["webpackChunkelevator"]=self["webpackChunkelevator"]||[];e.forEach(r.bind(null,0)),e.push=r.bind(null,e.push.bind(e))}();var e=o.O(void 0,[998],(function(){return o(4805)}));e=o.O(e)})();
//# sourceMappingURL=app.8822b6cf.js.map